# ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶

Claude Code Clusterã®å‹•ä½œã«å¿…è¦ãªãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ãƒ»ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢è¦ä»¶

## ğŸ–¥ï¸ ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢è¦ä»¶

### Central Coordinatorï¼ˆ1å°ï¼‰

**æœ€å°è¦ä»¶**
- **CPU**: 4ã‚³ã‚¢ï¼ˆ8ã‚¹ãƒ¬ãƒƒãƒ‰ï¼‰
- **ãƒ¡ãƒ¢ãƒª**: 16GB RAM
- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: 500GB SSD
- **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯**: Gigabit Ethernet
- **OS**: Ubuntu 22.04 LTS ã¾ãŸã¯ CentOS 8+

**æ¨å¥¨è¦ä»¶**
- **CPU**: 8ã‚³ã‚¢ï¼ˆ16ã‚¹ãƒ¬ãƒƒãƒ‰ï¼‰
- **ãƒ¡ãƒ¢ãƒª**: 32GB RAM
- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: 1TB NVMe SSD
- **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯**: Gigabit Ethernet
- **OS**: Ubuntu 22.04 LTS

### Claude Code Agentï¼ˆ2-10å°ï¼‰

**æœ€å°è¦ä»¶**
- **CPU**: 4ã‚³ã‚¢ï¼ˆ8ã‚¹ãƒ¬ãƒƒãƒ‰ï¼‰
- **ãƒ¡ãƒ¢ãƒª**: 16GB RAM
- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: 500GB SSD
- **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯**: Gigabit Ethernet
- **OS**: Ubuntu 22.04 LTS ã¾ãŸã¯ Windows 11 Pro

**æ¨å¥¨è¦ä»¶**
- **CPU**: 8ã‚³ã‚¢ï¼ˆ16ã‚¹ãƒ¬ãƒƒãƒ‰ï¼‰
- **ãƒ¡ãƒ¢ãƒª**: 32GB RAM
- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: 1TB NVMe SSD
- **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯**: Gigabit Ethernet + Wi-Fi 6
- **GPU**: NVIDIA GTX 1660ä»¥ä¸Šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€AIæ¨è«–é«˜é€ŸåŒ–ç”¨ï¼‰
- **OS**: Ubuntu 22.04 LTS

## ğŸŒ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¦ä»¶

### åŸºæœ¬ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹æˆ

```
Internet
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Router/FW     â”‚
â”‚ 192.168.1.1     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   L2 Switch     â”‚
â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
    â”Œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”
    â–¼     â–¼     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Coord.  â”‚ â”‚Agent-1 â”‚ â”‚Agent-2 â”‚
â”‚.100    â”‚ â”‚.101    â”‚ â”‚.102    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### IPã‚¢ãƒ‰ãƒ¬ã‚¹è¨­è¨ˆ

**å›ºå®šIPã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆæ¨å¥¨ï¼‰**
- Coordinator: `192.168.1.100`
- Agent-001: `192.168.1.101`
- Agent-002: `192.168.1.102`
- Agent-003: `192.168.1.103`
- ...
- Agent-010: `192.168.1.110`

### ãƒãƒ¼ãƒˆè¦ä»¶

**Coordinator**
- `8080/tcp`: Coordinator API
- `6379/tcp`: Redis
- `5432/tcp`: PostgreSQL
- `9090/tcp`: Prometheus
- `3000/tcp`: Grafana Dashboard
- `22/tcp`: SSH

**Agentï¼ˆå„å°ï¼‰**
- `8081/tcp`: Agent API
- `9091/tcp`: Prometheus Node Exporter
- `22/tcp`: SSH

### å¸¯åŸŸå¹…è¦ä»¶

- **æœ€å°**: 100Mbpsï¼ˆå…±æœ‰ï¼‰
- **æ¨å¥¨**: 1Gbpsï¼ˆå°‚ç”¨ï¼‰
- **å¤–éƒ¨æ¥ç¶š**: 50Mbpsä»¥ä¸Šï¼ˆClaude API/GitHub APIç”¨ï¼‰

## ğŸ’» ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢è¦ä»¶

### å…±é€šè¦ä»¶ï¼ˆå…¨PCï¼‰

**åŸºæœ¬OS**
- Ubuntu 22.04 LTSï¼ˆæ¨å¥¨ï¼‰
- CentOS Stream 8+
- Windows 11 Proï¼ˆAgent ã®ã¿ï¼‰

**å¿…é ˆã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢**
```bash
# ã‚·ã‚¹ãƒ†ãƒ åŸºç›¤
- systemd
- OpenSSH Server
- curl, wget, unzip
- git 2.30+

# é–‹ç™ºç’°å¢ƒ
- Python 3.11+
- Node.js 20 LTS
- Docker 24.0+
- Docker Compose v2

# ç›£è¦–
- Prometheus Node Exporter
- systemd journal
```

### Coordinatorå°‚ç”¨è¦ä»¶

**ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**
- PostgreSQL 15+
- Redis 7+

**ã‚³ãƒ³ãƒ†ãƒŠã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**
- Docker Compose
- Portainerï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

**ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ **
- Prometheus
- Grafana
- AlertManager

### Agentå°‚ç”¨è¦ä»¶

**é–‹ç™ºãƒ„ãƒ¼ãƒ«**
```bash
# Pythonç’°å¢ƒ
- uv (Python package manager)
- PyEnvï¼ˆè¤‡æ•°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ï¼‰

# Node.jsç’°å¢ƒ
- npm/yarn
- nvmï¼ˆè¤‡æ•°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ï¼‰

# ãã®ä»–é–‹ç™ºãƒ„ãƒ¼ãƒ«
- make
- gcc/clang
- sqlite3
```

**è¨€èªå›ºæœ‰è¦ä»¶**
```bash
# Backend Specialist
- Python 3.11+
- PostgreSQL client
- Redis client

# Frontend Specialist  
- Node.js 20 LTS
- Chrome/Chromiumï¼ˆãƒ†ã‚¹ãƒˆç”¨ï¼‰

# Testing Specialist
- Python 3.11+
- Node.js 20 LTS
- Selenium WebDriver

# DevOps Specialist
- Ansible
- Terraformï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
- kubectlï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
```

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶

### èªè¨¼ãƒ»èªå¯

**å¿…é ˆè¨­å®š**
- SSH Keyèªè¨¼ï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼ç„¡åŠ¹åŒ–ï¼‰
- sudoæ¨©é™ã®åˆ¶é™
- ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®š

**æ¨å¥¨è¨­å®š**
- VPNæ¥ç¶šï¼ˆå¤–éƒ¨ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹æ™‚ï¼‰
- è¨¼æ˜æ›¸ãƒ™ãƒ¼ã‚¹èªè¨¼
- å¤šè¦ç´ èªè¨¼ï¼ˆMFAï¼‰

### ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

**ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®šä¾‹**
```bash
# Coordinator
ufw allow 22/tcp    # SSH
ufw allow 8080/tcp  # API
ufw allow 3000/tcp  # Grafana
ufw allow from 192.168.1.0/24 to any port 5432  # PostgreSQL
ufw allow from 192.168.1.0/24 to any port 6379  # Redis

# Agent
ufw allow 22/tcp    # SSH
ufw allow 8081/tcp  # Agent API
ufw allow from 192.168.1.100 to any port 8081   # Coordinator only
```

### ãƒ‡ãƒ¼ã‚¿ä¿è­·

**æš—å·åŒ–è¦ä»¶**
- ãƒ‡ã‚£ã‚¹ã‚¯æš—å·åŒ–ï¼ˆLUKS/BitLockerï¼‰
- é€šä¿¡æš—å·åŒ–ï¼ˆTLS 1.3ï¼‰
- èªè¨¼æƒ…å ±æš—å·åŒ–ï¼ˆHashiCorp Vaultæ¨å¥¨ï¼‰

## ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶

### å¿œç­”æ™‚é–“

| æ“ä½œ | ç›®æ¨™æ™‚é–“ | æœ€å¤§è¨±å®¹æ™‚é–“ |
|------|----------|--------------|
| Agentç™»éŒ² | < 1ç§’ | 5ç§’ |
| ã‚¿ã‚¹ã‚¯å‰²ã‚Šå½“ã¦ | < 2ç§’ | 10ç§’ |
| Claude APIå‘¼ã³å‡ºã— | < 30ç§’ | 120ç§’ |
| Gitæ“ä½œ | < 10ç§’ | 60ç§’ |
| PRä½œæˆ | < 5ç§’ | 30ç§’ |

### ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆ

| ãƒ¡ãƒˆãƒªã‚¯ã‚¹ | æœ€å°å€¤ | ç›®æ¨™å€¤ |
|------------|--------|--------|
| åŒæ™‚ã‚¿ã‚¹ã‚¯å®Ÿè¡Œæ•° | 3 | 10 |
| 1æ™‚é–“ã‚ãŸã‚ŠPRä½œæˆæ•° | 5 | 20 |
| Agentç¨¼åƒç‡ | 80% | 95% |

### ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨ç‡

**Coordinator**
- CPUä½¿ç”¨ç‡: < 70%
- ãƒ¡ãƒ¢ãƒªä½¿ç”¨ç‡: < 80%
- ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨ç‡: < 85%

**Agent**
- CPUä½¿ç”¨ç‡: < 80%ï¼ˆã‚¢ã‚¤ãƒ‰ãƒ«æ™‚ < 20%ï¼‰
- ãƒ¡ãƒ¢ãƒªä½¿ç”¨ç‡: < 70%
- ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨ç‡: < 90%

## ğŸ“ˆ æ‹¡å¼µæ€§è¦ä»¶

### æ°´å¹³ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°

**Agentè¿½åŠ **
- æœ€å¤§10å°ã¾ã§ç·šå½¢ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°
- æ–°Agentè¿½åŠ æ™‚ã®ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ : 0ç§’
- è‡ªå‹•è² è·åˆ†æ•£

**ãƒªã‚½ãƒ¼ã‚¹ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°**
- Coordinatorã®å‚ç›´ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°å¯¾å¿œ
- PostgreSQL/Redisã®åˆ†é›¢ãƒ»ã‚¯ãƒ©ã‚¹ã‚¿åŒ–å¯¾å¿œ

### å¯ç”¨æ€§

**ç›®æ¨™ç¨¼åƒç‡**
- ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“: 99.5%ï¼ˆæœˆé–“3.6æ™‚é–“ä»¥ä¸‹ã®ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ï¼‰
- å€‹åˆ¥Agent: 99.0%ï¼ˆæœˆé–“7.2æ™‚é–“ä»¥ä¸‹ã®ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ï¼‰

**éšœå®³å¾©æ—§**
- Agentéšœå®³æ™‚: è‡ªå‹•ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼
- Coordinatoréšœå®³æ™‚: æ‰‹å‹•å¾©æ—§ï¼ˆ15åˆ†ä»¥å†…ï¼‰

## âœ… ç’°å¢ƒæ¤œè¨¼ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### äº‹å‰ç¢ºèª

```bash
# ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ç¢ºèª
- [ ] CPU ã‚³ã‚¢æ•° â‰¥ 4
- [ ] ãƒ¡ãƒ¢ãƒª â‰¥ 16GB
- [ ] ãƒ‡ã‚£ã‚¹ã‚¯ç©ºãå®¹é‡ â‰¥ 500GB
- [ ] ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šç¢ºèª

# ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ç¢ºèª  
- [ ] OS ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª
- [ ] Python 3.11+ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- [ ] Docker ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ»å‹•ä½œç¢ºèª
- [ ] Git è¨­å®šå®Œäº†

# ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç¢ºèª
- [ ] å„PCé–“ã®é€šä¿¡ç¢ºèª
- [ ] ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šç¢ºèª
- [ ] DNSè§£æ±ºç¢ºèª
- [ ] ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®šç¢ºèª

# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç¢ºèª
- [ ] SSH Keyèªè¨¼è¨­å®š
- [ ] sudoæ¨©é™è¨­å®š
- [ ] ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®š
```

### æ€§èƒ½æ¤œè¨¼

```bash
# CPUæ€§èƒ½ãƒ†ã‚¹ãƒˆ
sysbench cpu --threads=4 run

# ãƒ¡ãƒ¢ãƒªæ€§èƒ½ãƒ†ã‚¹ãƒˆ  
sysbench memory --memory-total-size=10G run

# ãƒ‡ã‚£ã‚¹ã‚¯æ€§èƒ½ãƒ†ã‚¹ãƒˆ
sysbench fileio --file-test-mode=seqwr run

# ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ€§èƒ½ãƒ†ã‚¹ãƒˆ
iperf3 -s  # ã‚µãƒ¼ãƒãƒ¼å´
iperf3 -c <server-ip>  # ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´
```

---

ã“ã®è¦ä»¶ã‚’æº€ãŸã™ã“ã¨ã§ã€Claude Code Clusterã®å®‰å®šå‹•ä½œãŒä¿è¨¼ã•ã‚Œã¾ã™ã€‚